{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://narratoria.dev/schemas/config-schema-meta.schema.json",
  "title": "Narratoria Skill Configuration Schema (Meta-Schema)",
  "description": "Schema for config-schema.json files that define skill configuration options",
  "type": "object",
  "required": ["$schema", "type", "properties"],
  "properties": {
    "$schema": {
      "type": "string",
      "const": "http://json-schema.org/draft-07/schema#",
      "description": "JSON Schema version"
    },
    "type": {
      "type": "string",
      "const": "object",
      "description": "Configuration root must be an object"
    },
    "properties": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "required": ["type"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["string", "number", "integer", "boolean", "array"],
            "description": "Field type"
          },
          "title": {
            "type": "string",
            "description": "Human-readable field label for UI"
          },
          "description": {
            "type": "string",
            "description": "Help text displayed below field"
          },
          "default": {
            "description": "Default value if user doesn't provide one"
          },
          "enum": {
            "type": "array",
            "description": "Allowed values for dropdown selection"
          },
          "minimum": {
            "type": "number",
            "description": "Minimum value for number/integer fields"
          },
          "maximum": {
            "type": "number",
            "description": "Maximum value for number/integer fields"
          },
          "minLength": {
            "type": "integer",
            "description": "Minimum string length"
          },
          "maxLength": {
            "type": "integer",
            "description": "Maximum string length"
          },
          "pattern": {
            "type": "string",
            "description": "Regex pattern for string validation"
          },
          "format": {
            "type": "string",
            "enum": ["password", "email", "uri", "date", "time"],
            "description": "Special format hint for UI rendering"
          }
        }
      },
      "description": "Configuration field definitions"
    },
    "required": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of required field keys"
    }
  }
}
